<div *ngIf="pos">
  <form (ngSubmit)="onSubmit()" #posForm="ngForm">
    <mat-card>
      <mat-card-header>
        <mat-card-title>Edit POS</mat-card-title>
      </mat-card-header>

      <mat-card-content>
        <mat-form-field appearance="fill">
          <mat-label>POS Name</mat-label>
          <input matInput [(ngModel)]="pos.posName" name="posName" />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>POS Location</mat-label>
          <input matInput [(ngModel)]="pos.posLocation" name="posLocation" />
        </mat-form-field>

        <!-- Supprimer le mat-form-field pour l'import de fichier -->
        <div class="image-section">
          <mat-label>Current Image:</mat-label>
          <div *ngIf="pos.imageUrl">
            <img [src]="pos.imageUrl" alt="POS Image" class="preview-image" />
          </div>
          <div *ngIf="!pos.imageUrl" class="no-image">No Image Available</div>

          <!-- Champ d'import de fichier sans mat-form-field -->
          <label for="fileInput">Upload New Image:</label>
          <input id="fileInput" type="file" (change)="onFileSelected($event)" />
        </div>

        <div *ngIf="pos.services.length > 0">
          <h4>Services</h4>
          <ul>
            <li *ngFor="let service of pos.services">
              <mat-form-field appearance="fill">
                <mat-label>Service Name</mat-label>
                <input matInput [(ngModel)]="service.name" name="serviceName" />
              </mat-form-field>
              <mat-form-field appearance="fill">
                <mat-label>Price</mat-label>
                <input matInput [(ngModel)]="service.prix" name="servicePrice" type="number" />
              </mat-form-field>
            </li>
          </ul>
        </div>

        <div class="action-buttons">
          <button mat-button type="submit" [disabled]="!posForm.form.valid">Save</button>
          <button mat-button type="button" (click)="onCancel()">Cancel</button>
        </div>
      </mat-card-content>
    </mat-card>
  </form>
</div>
